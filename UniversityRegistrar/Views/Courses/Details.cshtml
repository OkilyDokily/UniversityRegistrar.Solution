@{
  Layout = "_Layout";
}
@model List<UniversityRegistrar.Models.StudentWithGPA>;

@using UniversityRegistrar.Models;

<p>Average course grade: @ViewBag.GPA</p>

<p>See student details:</p>

@if(@Model.Count > 0){
  @foreach (StudentWithGPA swg in @Model)
  {
    <p>@Html.ActionLink(swg.Student.Name,"Details","Students", new {id = swg.Student.StudentId}) : Grade in course: @swg.GPA
    </p>
  }
}
else
{
  <p>There are no students yet enrolled in this course</p>
}

<p>Department for this course: @Html.ActionLink((string) @ViewBag.Department.Name, "Details","Departments",new {id =
                          @ViewBag.Department.DepartmentId})</p>
